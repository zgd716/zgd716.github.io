I"<!-- æ•°å­¦å…¬å¼ -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      inlineMath: [['$','$']]
    }
  });
</script>

<p>tensorflowæ¨¡å‹è®­ç»ƒå®Œä»¥åï¼Œå¦‚ä½•è¿›è¡Œéƒ¨ç½²ï¼Ÿå¾ˆå®¹æ˜“æƒ³åˆ°å¯ä»¥é€šè¿‡rest apiæä¾›æ¥å£çš„æ–¹å¼ï¼Œä½¿ç”¨flask+nginx+uwsgiå¾ˆå®¹æ˜“å®ç°,ä¸ºäº†éƒ¨ç½²æ–¹ä¾¿ï¼Œæœ¬æ–‡ä½¿ç”¨dockeréƒ¨ç½²è®­ç»ƒå¥½çš„tensorflowæ¨¡å‹ã€‚<!-- more -->)</p>

<h2 id="1ç®€ä»‹">1ã€ç®€ä»‹</h2>

<p>tensorflow modelè®­ç»ƒå®Œåå¦‚ä½•éƒ¨ç½²ï¼š1ã€ä½¿ç”¨tensorflow servingæ¨¡å¼ï¼›2ã€ä½¿ç”¨flask  è®¿é—®æ¨¡å‹æä¾›rest apiæ–¹å¼</p>

<h2 id="2éƒ¨ç½²">2ã€éƒ¨ç½²</h2>

<p><a href="https://github.com/zgd716/fasttext_docker">ä»£ç </a></p>

<p>-data    å­˜æ”¾æ•°æ®</p>

<p>-vocabs  å­˜æ”¾å­—å…¸æ–‡ä»¶</p>

<p>-runs    å­˜æ”¾æ¨¡å‹åŠtensorboardæ–‡ä»¶</p>

<p>-data_helper.py   å¤„ç†æ•°æ®</p>

<p>-config.py        é…ç½®æ–‡ä»¶</p>

<p>-fast_text.py     FastTextç±»</p>

<p>-train.py         è®­ç»ƒæ¨¡å‹</p>

<p>-predict.py       é¢„æµ‹</p>

<p>æ³¨æ„ï¼štrain.pyåœ¨è®­ç»ƒæ¨¡å‹çš„æ—¶å€™ä¼šç”Ÿæˆvocabsæ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜å‚¨å­—å…¸è¯å­—å…¸ã€æ ‡ç­¾ç›¸å…³å¯¹è±¡</p>

<p>é¡¹ç›®ä¸­çš„main.pyæ˜¯flaské¡¹ç›®çš„å…¥å£</p>

<p>ä¸ºäº†ä½¿ç”¨dockeréƒ¨ç½²ï¼ŒDockerfileä¸­ä½¿ç”¨joelogan/keras-tensorflow-flask-uwsgi-nginx-dockeråŸºç¡€é•œåƒ</p>

<p>ç›´æ¥ä½¿ç”¨docker  build -t fasttext-image .  ç”Ÿæˆé•œåƒ</p>

<p>docker run -d â€“name fasttext-container -p 8989:80 fasttext-image  ç”Ÿæˆå®¹å™¨</p>

<p><img src="/imgs/employment/tfmodel_flask_docker.jpg" /></p>

:ET